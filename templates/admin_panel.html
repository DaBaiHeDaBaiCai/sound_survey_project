<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>管理面板</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
    .wrap { max-width: 800px; margin: 40px auto; text-align: left; }
    .card { border: 1px solid #eee; border-radius: 12px; padding: 20px; box-shadow: 0 2px 10px rgba(0,0,0,.04); }
    .muted { color: #666; font-size: 14px; }
    .row { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 16px; }
    .btn-outline { background: #fff; color:#2d89ef; border:1px solid #2d89ef; }
    .btn-danger { background: #e74c3c; }
    .btn { display:inline-block; padding:10px 16px; border-radius:8px; text-decoration:none; color:#fff; background:#2d89ef; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>管理面板</h1>
    <p class="muted">当前已收集的答卷条目数（行数）：<strong>{{ count }}</strong></p>

    <div class="card">
      <h3>导出数据</h3>
      <p class="muted">CSV 为逐行记录（参与者 × 刺激），.db 为完整 SQLite 数据库备份。</p>
      <div class="row">
        <a class="btn" href="{{ url_for('export_csv') }}">导出 CSV</a>
        <a class="btn btn-outline" href="{{ url_for('export_db') }}">下载数据库（.db）</a>
        <a class="btn btn-outline" href="{{ url_for('index') }}">返回首页</a>
        <a class="btn btn-danger" href="{{ url_for('logout') }}">退出登录</a>
      </div>
    </div>

    <div style="margin-top:24px;">
      <p class="muted">
        提示：如果导出 CSV 为空，请先在前台完成一次作答再来导出；
        如需扩展导出字段（如答题时间、IP、浏览器信息等），可在后端模型中添加对应列。
      </p>
    </div>
  </div>
</body>
</html>